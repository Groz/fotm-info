language: scala
scala:
- 2.11.7
jdk:
- oraclejdk8
env:
  global:
  - secure: pTVs9kg3bz14JeEvP92k8Q6vxr36KptTQzVRNnmbWbtjccBY3BHd2mon45XJ4Zyn6H+DyPULTMmqXulXrgwTEAy1CetsTko/z7mF7O7i0SXMH17EBYIJRbrq0kbQyO0jS0D3g9DCJmzXpC7pZTqPfNrOZxuFM54pxXOC2+EDK3uRD8ruXByUzUTi+5VToc4mZH7lQZByQeIe9MmkxBvfRtIVeAIKd1rCdRjvSPWe7sOBBXbmGl3JdwVK/68jsX2Q4Bay5AKqOz64p8YJTQ5iRdEowL6s7cq91DxJC+ygbtHR+xIlz8FS4OuPKk0t0UB0jUh+kcvq5pIKWt0ne2VaYMC1buhLkQ7UCR9a/7CMyfqBaOQQX0eIFnjKbo+RSHh3gHrIn6hvHvr/55GfsjCr0rXf8n279QxLSRPWduAaJjTotl9TNYLWb+Xn2e96boHxYhtuSxxH1/6epRwwtq2UNVJPhV3WuvOSZ0imnaG5z9bmYyozHSh92clJtN45tyD0jZYy0ccGdpZRi5A85iaQPqaFO8rHwn2HQ1ggwVXBWfup/1uf/vKwyHKFXMwa9kQ4crS8InOQk7U7XHoEK4H4Mlpt/wc1lES3gO1D3r6NurZ82+L4oJIcdUftThwpPaf8jA+1hehICJmZSRg5DT3/NQQ9mwP8bkt+jxMAwACiZUI=
  - secure: fi5PA+nSd8gPduM1r0bs/tsHANikcNLj05rcROfgXqhA916OJMIvQBgM86uq0adml89BLlsvnMqM81LWelXhdV7BtEmdGV7hfBFwnsFCPzqx3VhaYgMAsMfpSmnaoVqZ4ivTCbLToWjMZoViKZt7AZLMxR58UGFqR5s4v+iH/X1rIjTos42ZEWERT+yLd/KgxWyNO9ys3OzD8NlqQoEugWEXC0B5ihDnocaPc7m4g8ftHIfXTfs+QZptHjCtf63B4apDueo8GLUYWKl9El0LcbUuh7IZnnKLdHKKPESezBNUaswefRQgt1gNCmUZmULS5nMAaU2fzhRjE8SIZSuvVqxRJByz2hR8igDdd0FYeD9W0akVKPCQXJPG1HXutC6QKkCu6GGXhTt7cOnobQCQFl7ekdexBPFeZSUk6K1KLWYDstJtwW/0qAPhraRCzgvQ0bRK79qgH1TFA25jvGVY+QP7+xq2FopIwTXP3/2wXGEvUkGLmrL+KKtodOJN+9C332LIkXL9v0+TbE6wpByQb/8vBlnQChetVhBzGWz+8OCb/v20ymIzSseJfxUKqlNeD+7yhxf/1sAiurMuJ3P3cZQbLjD4D2giD1/ExuCmnqPFCozeXrD/jwXwtzcN2UYSVhEaMzZgeC6DIXL6qs1hAOgvqxMZiAfSIeIQUhxcXec=
script:
- sbt ++$TRAVIS_SCALA_VERSION clean coverage test && sbt ++$TRAVIS_SCALA_VERSION coverageAggregate
- sbt "crawler/assembly" && sbt "portal/dist"
- scripts/aws/bundle.sh
after_success:
- bash <(curl -s https://codecov.io/bash)
deploy:
  provider: s3
  access_key_id:
    secure: RbEHhTWyXk351rwKw+O0NvuOKvCUCfSWa+No13c6DFkiHTWhL+iAGD6U9YN2Baxt/D8BhNOpktkkpbfXN7wqwk4zoe4y1gdCaE/LyfY9Niodvl2KXkvEZ7OKZxNVUBMZceGgxnX8kMhLkBCdWUlRCgGBYZ4kL9CeCptI6F47zAUsEk+cSNkOAN3dxaAKrpnZ59z7siRPdsEJOzuMFjiV5mVIZLbHF04apA23kHHl4wjdE0C9SgmL9yBGgMxqV99r1sdbp7mizd4Ihq+XDADwSHDY0xqcCBo/i2wC0PgpsQgTn70nQEo+kjvNqwSdlRxIXV/aK8PRAIBmwedlr850VRZogFzJyqMJJ5KnMAO8Qm0OmPSTi6EGXERbxEexI/sxdX9u7WISqfSydWpq1WZtq8JxhTO9ZroF0DWwTfOet4hSBuKYneK4d5MTOXEVgp4SjQ51iLx3a8cE9aHayczXHiLwTxd09lMkkKIoh+dJ+2qKBphOKkMsTD1xRdqnzM3nO+gwaReIwhPgITXktmVzkogsngD23aFeTT0Dpv3pe1y8uLvsmCgPi+K/SMw/l9phE0Oeb48kq+SO27r6+AjmhAo4tj58q+P0UVhvqS/SIb3SM5LL27n4ckXtwlO401M65JVU4XEK8DJEAL0H/890ahXjN0pDDpO1HYSTbvy2fNY=
  secret_access_key:
    secure: qWNfwSOEGTsBD4GBt7h5dMUJ2W36MMGpOi8oV1ZeGqzyQEhLue0GLx6xBdwPNHoS+5/uV6G2Ia9RyELJOKSXv1L9ZY/uFbouTlx0d3/5opTaoc4aYKxcRnzmWYm06bqdmbPk5nP+zp98MKTGGe/8qJp5X1K6EH9mcuuMEuLfILf4vJBCUSeQGfJSLC6/12Jn6PQS7GAD6GRvyWOPnA7VuWgrKECypvU9mPvvCUvm6f91YC7l5QtUieJKD9iypytx8q/qoy00dlYW/rGNI+NjMxM/mblycY9SfCGPxHaZ3OTZkexj30Xof1keVRMAjoFNaufozZ8ru6OCuwg1mA77q0UurWW7SC1JnI+n1cQxOYXaqQq4rGiWicXTv6h5PFT0SfQuK6m9L0vpyPaGCOdT5mouz7MN+NVxuNJwOpW2RDd5nLTrJprTQDSlgndncZpYU31ezD9Haw8EvtH7/tsUAm1XN5vPkIIplxi3TX2EMaBzQmKgUlgbmjH83CjIadpAR2loJnVcoD247mCud3+wfDYnnMwBgAY9f0EqzuJ0DP+tDWfJnET00tn/dHm3lsF9kDaXr9BPtQrmsA5bb0RC1d5wi3MKRftIjxC78kXJiOd0stF+lf6Da2VvReVndltarZiE1jeg3CwU/a8r4Tu1I3MIRwEMdyE8d18nky9D+I4=
  region: eu-west-1
  bucket: fotm-info-staging-bucket
  skip_cleanup: true
  local_dir: revision/artifact
