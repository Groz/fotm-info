language: scala
scala:
- 2.11.7
jdk:
- oraclejdk8
env:
  global:
  - secure: pTVs9kg3bz14JeEvP92k8Q6vxr36KptTQzVRNnmbWbtjccBY3BHd2mon45XJ4Zyn6H+DyPULTMmqXulXrgwTEAy1CetsTko/z7mF7O7i0SXMH17EBYIJRbrq0kbQyO0jS0D3g9DCJmzXpC7pZTqPfNrOZxuFM54pxXOC2+EDK3uRD8ruXByUzUTi+5VToc4mZH7lQZByQeIe9MmkxBvfRtIVeAIKd1rCdRjvSPWe7sOBBXbmGl3JdwVK/68jsX2Q4Bay5AKqOz64p8YJTQ5iRdEowL6s7cq91DxJC+ygbtHR+xIlz8FS4OuPKk0t0UB0jUh+kcvq5pIKWt0ne2VaYMC1buhLkQ7UCR9a/7CMyfqBaOQQX0eIFnjKbo+RSHh3gHrIn6hvHvr/55GfsjCr0rXf8n279QxLSRPWduAaJjTotl9TNYLWb+Xn2e96boHxYhtuSxxH1/6epRwwtq2UNVJPhV3WuvOSZ0imnaG5z9bmYyozHSh92clJtN45tyD0jZYy0ccGdpZRi5A85iaQPqaFO8rHwn2HQ1ggwVXBWfup/1uf/vKwyHKFXMwa9kQ4crS8InOQk7U7XHoEK4H4Mlpt/wc1lES3gO1D3r6NurZ82+L4oJIcdUftThwpPaf8jA+1hehICJmZSRg5DT3/NQQ9mwP8bkt+jxMAwACiZUI=
  - secure: fi5PA+nSd8gPduM1r0bs/tsHANikcNLj05rcROfgXqhA916OJMIvQBgM86uq0adml89BLlsvnMqM81LWelXhdV7BtEmdGV7hfBFwnsFCPzqx3VhaYgMAsMfpSmnaoVqZ4ivTCbLToWjMZoViKZt7AZLMxR58UGFqR5s4v+iH/X1rIjTos42ZEWERT+yLd/KgxWyNO9ys3OzD8NlqQoEugWEXC0B5ihDnocaPc7m4g8ftHIfXTfs+QZptHjCtf63B4apDueo8GLUYWKl9El0LcbUuh7IZnnKLdHKKPESezBNUaswefRQgt1gNCmUZmULS5nMAaU2fzhRjE8SIZSuvVqxRJByz2hR8igDdd0FYeD9W0akVKPCQXJPG1HXutC6QKkCu6GGXhTt7cOnobQCQFl7ekdexBPFeZSUk6K1KLWYDstJtwW/0qAPhraRCzgvQ0bRK79qgH1TFA25jvGVY+QP7+xq2FopIwTXP3/2wXGEvUkGLmrL+KKtodOJN+9C332LIkXL9v0+TbE6wpByQb/8vBlnQChetVhBzGWz+8OCb/v20ymIzSseJfxUKqlNeD+7yhxf/1sAiurMuJ3P3cZQbLjD4D2giD1/ExuCmnqPFCozeXrD/jwXwtzcN2UYSVhEaMzZgeC6DIXL6qs1hAOgvqxMZiAfSIeIQUhxcXec=
script:
- sbt ++$TRAVIS_SCALA_VERSION clean coverage test && sbt ++$TRAVIS_SCALA_VERSION coverageAggregate
- sbt ++$TRAVIS_SCALA_VERSION crawler/dist portal/dist
- scripts/aws/bundle.sh
after_success:
- bash <(curl -s https://codecov.io/bash)
deploy:
  provider: s3
  access_key_id:
    secure: dJfz9hs6IxebZzEsRldwRLcXp95SnuL0pBIPUt9OPA+VJL5d5g83uHVuGFHpDQRRNzLAiOjphuW3GT9T90e182jAkpggPtG7RkHeWm7TkaC6ytMnRwVgEoeeZHTVBBzKy1qzj0uk4h9CntYpEkivsilQBuUcFkJegkaWFUxvhEc2Iu+TiZKdrXS4XHxQ6icmbuSzxzxPeTfPpt9mcNPyl20Qktk/7zZGOI81BQh2mqyV98YQaSJftS0HaxAqllLtMcXWWnlOCNr6G21Q31HTDiQE3Izh3mMg9tTkEwGBNUJ7Dz8iCjJYL7g8dJrSdoxv3uD140opKT4stA9fN8b2JkfUTO4JW4F/y+z2eYWzfbgPpXCIMSwmyuWNjKGSyNwBMyWOVJUmPnQBiPfuZ3m8QrVvs43WOKiGAOul06JwfauZAQJbg6dqFNDLXXHQcWK4bI/ZRVK6eys4+cBod96Q2saQTk+O/pReftKJLsyg+d9+0ue0Mt55ZaqGaeo6SWSKSL4+zeGglwvPGLKLs6uN/lirmTJd3+t1w+8jrvYtlyHjXOHDr7GYNXKMecWiku3Aj+yN8R5j/SNKTh1z1QKgCYzQk9Eumyc4DONIcB5fVD2umpdYXiVSQI26nRxRO7Cvr37KzVCarKS+Yzb0NTxlmXVIps7Po1RVqapTuNTLHdk=
  secret_access_key:
    secure: I/ZnCoxdrMKJZORNSyWhjJlkY834yi9xmm6VdYbpn0RoGR2zy/y5uEBpaHTKQvAcnU4TwWCaWkW6d4Tvn723SJh/76Ala+IeekHfoA1jitw4HYpvNV26p12lF4xv0fgVAhDZmHiwWLOKrSOAVb3iuOe376QNXKixyDeir1GN2VyLXz49lYLvxJs9maHS8EGuJXVIoo9t3d3oWWlWfogTwFZhlWG5eg0YrJKhrmKavmxUAVCrT5f2yPpWDvJltrW+2Q63FXJJ0Dh4agnTmSeLz8ge3Nu3/uCbBVIVXvGAI3DpBmc0CY+5vEZQUOJVKVxt967FXBNoj4kYtZ6xY20Fk/r+8dzrNcoHoeAnoPPFUHE/KDT1eJ12BUPs5Z6SWYux3zKc5o1ijwIFPSzk9Xkh6swM+NW7YqDmSmitVKk7RkVZ7b9aWDMY/sD10ddKWVqz62uftKcw5Q46j33I7kFiLfAGjTkQT1zFHKtWUvuEmyhmJ/wX0+o8Ik0MDjIGR/gDfLJ3mLdlo/B1QvGOIKmFXQOULw58LuDisHFY0/g5BDxzSie7H7Q/jUr2w4VzB0dUde/4vMma+ZKZdFrzVNwmXeW/fvxYR+ZxNEc7SKwkiXsQTbPodyrbrj0Kf/8d/ZC394qzjxiOebYCbNVHGFkK9qLCrCgNvvUIwv/TAC7oxQA=
  region: eu-west-1
  bucket: fotm-info-staging-bucket/latest
  skip_cleanup: true
  local_dir: revision/artifact
