@import info.fotm.domain.{Axis, TeamSnapshot, CharacterId, CharacterSnapshot}
@import info.fotm.aether.Storage
@import com.github.nscala_time.time.Imports._
@import scala.collection.immutable.TreeMap

@(axis: Axis, charId: CharacterId, lastSnapshot: Option[CharacterSnapshot], history: TreeMap[DateTime, TeamSnapshot])

@main("FotM - char history", axis, 1440) {

    <div class="row">
        <!-- Top banner -->
      <ins class="adsbygoogle"
      style="display:inline-block;width:728px;height:90px"
      data-ad-client="ca-pub-8604112492317933"
      data-ad-slot="1351585608"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

    <div class="row">
      <div class="col-lg-3 col-md-4 col-sm-5">
        <ul class="nav nav-pills">
        @for(bracket <- Axis.allBrackets) {
          <li class='@{ if(bracket == axis.bracket) "active" else "" }'>
            <a href='@routes.Application.charHistory(axis.region.slug, bracket.slug, Storage.charIdBijection(charId))'>
            @bracket.slug
            </a>
          </li>
        }
        </ul>
      </div>
    </div>

    <label>History for @characterIdView(axis, charId)</label>
    <div class="row">
      <div class="col-lg-8 col-md-8 col-sm-10 col-xs-12">
        @teamHistoryView(axis, history)
      </div>
      <div>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- Right skyscraper -->
        <ins class="adsbygoogle"
        style="display:inline-block;width:300px;height:600px"
        data-ad-client="ca-pub-8604112492317933"
        data-ad-slot="2828318801"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
    </div>

  @timeUpdate()
}
